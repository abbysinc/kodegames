<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Kode games.exe</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Courier New', monospace;
}

body{
  width:100vw;
  height:100vh;
  background:black;
  overflow:hidden;
  image-rendering: pixelated;
}

.screen{
  position:absolute;
  width:100%;
  height:100%;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
}

.active{ display:flex; }

/* HOME */
#home{
  background:url("pollo/fondos/fondo1.png") center/cover no-repeat;
}

#btnJ{
  font-size:80px;
  padding:30px 70px;
  background:black;
  color:#00ff00;
  border:4px solid #00ff00;
  cursor:pointer;
}

/* LOGIN */
#login{
  background:url("pollo/fondos/fondo_login.png") center/cover no-repeat;
}

.login-box{
  background:rgba(0,0,0,0.85);
  border:3px solid red;
  padding:20px;
  width:300px;
  animation: glitch 1.5s infinite;
}

@keyframes glitch{
  0%{ transform:translate(0); }
  20%{ transform:translate(-2px,2px); }
  40%{ transform:translate(2px,-2px); }
  60%{ transform:translate(-1px,1px); }
  80%{ transform:translate(1px,-1px); }
  100%{ transform:translate(0); }
}

.login-box h2{
  color:red;
  text-align:center;
  margin-bottom:15px;
}

.login-box input{
  width:100%;
  padding:8px;
  margin-bottom:10px;
  background:black;
  color:#00ff00;
  border:1px solid #00ff00;
}

.login-box button{
  width:100%;
  padding:10px;
  background:red;
  color:white;
  border:none;
  cursor:pointer;
}

#error{
  color:red;
  text-align:center;
  margin-top:10px;
  display:none;
}

/* MAIN */
#main{
  background:url("pollo/fondos/fondo1.png") center/cover no-repeat;
  flex-direction:row;
  padding:20px;
}

#character{
  width:256px;
  height:256px;
  background:url("pollo/personaje/idle.png") center/contain no-repeat;
}

.panel{
  margin-left:20px;
  color:white;
}

.panel button{
  margin-top:10px;
  padding:10px;
  width:220px;
  background:#222;
  color:white;
  border:2px solid white;
  cursor:pointer;
}

.panel button.on{
  background:green;
}

textarea{
  margin-top:10px;
  width:300px;
  height:80px;
  background:black;
  color:#00ff00;
  border:2px solid #00ff00;
}

#dialog{
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,0.9);
  border:3px solid white;
  padding:10px;
  width:80%;
  color:white;
  font-size:18px;
  min-height:60px;
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen active">
  <button id="btnJ">J</button>
</div>

<!-- LOGIN -->
<div id="login" class="screen">
  <div class="login-box">
    <h2>ACCESO RESTRINGIDO</h2>
    <input id="user" placeholder="USUARIO">
    <input id="pass" type="password" placeholder="CONTRASEÑA">
    <button onclick="loginUser()">ENTRAR</button>
    <div id="error">USUARIO NO AUTORIZADO</div>
  </div>
</div>

<!-- MAIN -->
<div id="main" class="screen">
  <div id="character"></div>

  <div class="panel">
    <button id="powerBtn">ENCENDER PERSONAJE</button>
    <textarea id="textInput" placeholder="Escribí el mensaje..."></textarea>
    <button onclick="showText()">TEXTO</button>
  </div>

  <div id="dialog"></div>
</div>

<script>
/* NAVEGACIÓN */
const home = document.getElementById("home");
const login = document.getElementById("login");
const main = document.getElementById("main");

document.getElementById("btnJ").onclick = ()=>{
  home.classList.remove("active");
  login.classList.add("active");
};

/* USUARIOS Y CONTRASEÑAS */
const USERS = {
  "admin": "404",
  "jota": "pollo",
  "beta": "game",
  "dark": "pixel"
};

function loginUser(){
  const u = document.getElementById("user").value;
  const p = document.getElementById("pass").value;
  const error = document.getElementById("error");

  if(USERS[u] === p){
    login.classList.remove("active");
    main.classList.add("active");
    error.style.display = "none";
  }else{
    error.style.display = "block";
  }
}

/* PERSONAJE */
const powerBtn = document.getElementById("powerBtn");
const character = document.getElementById("character");
let encendido = false;

powerBtn.onclick = ()=>{
  encendido = !encendido;
  if(encendido){
    powerBtn.classList.add("on");
    powerBtn.textContent = "PERSONAJE ACTIVO";
    character.style.backgroundImage =
      'url("pollo/personaje/encender_1.png")';
    main.style.backgroundImage =
      'url("pollo/fondos/fondo_activado.png")';
  }else{
    powerBtn.classList.remove("on");
    powerBtn.textContent = "ENCENDER PERSONAJE";
    character.style.backgroundImage =
      'url("pollo/personaje/idle.png")';
  }
};

/* TEXTO + VOZ */
function showText(){
  if(!encendido) return;

  const text = document.getElementById("textInput").value;
  const dialog = document.getElementById("dialog");
  dialog.textContent = "";
  let i = 0;

  speechSynthesis.cancel();
  const voice = new SpeechSynthesisUtterance(text);
  voice.lang = "es-ES";
  voice.rate = 0.85;
  speechSynthesis.speak(voice);

  const typing = setInterval(()=>{
    if(i < text.length){
      dialog.textContent += text[i];
      i++;
    }else{
      clearInterval(typing);
    }
  },45);
}
</script>

</body>
</html>
